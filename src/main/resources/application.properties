# =====================
# COMMON (Base pour tous)
# =====================
spring.application.name=LotoMasterAI
server.port=${PORT:8080}

# UPLOAD
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# EMAIL (Config de base)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# CRONS
loto.jobs.cron.fdj-recovery=0 0 22-23 * * MON,WED,SAT
loto.jobs.cron.gen-pronos=0 0 9 * * MON,WED,SAT
loto.jobs.cron.send-emails=0 0 8 * * MON,WED,SAT
loto.jobs.cron.budget-alert=0 0 9 * * MON
loto.jobs.cron.user-cleanup=0 0 4 * * MON
loto.jobs.cron.db-cleanup=0 0 3 * * SUN
loto.jobs.cron.optimisation-ia=0 0 4 * * *

# API FDJ
fdj.api.url=https://www.fdj.fr/api/service-draws/v1/games/loto/draws

# Email utilisateur IA
user.ia.mail=ai@loto.com

# PAR DEFAUT : On active le profil 'dev' quand on lance dans IntelliJ
# (Docker ecrasera cette valeur)
spring.profiles.active=dev

# =====================
# OPTIMISATIONS SYSTEME (Anti-ralentissement)
# =====================
# 1. Desactive la persistance des sessions DB apres la requete (Evite les fuites de memoire)
spring.jpa.open-in-view=false

# 2. Demarrage differe des acces aux donnees (Gagne 3 secondes au demarrage)
spring.data.jpa.repositories.bootstrap-mode=deferred
